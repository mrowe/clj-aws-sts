<!DOCTYPE html>
<html><head><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>aws.sdk.sts documentation</title></head><body><div id="header"><h1><a href="index.html">Clj-aws-sts 0.1.2 API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><span>Namespaces</span></h3><ul><li class="current"><a href="aws.sdk.sts.html"><span>aws.sdk.sts</span></a></li></ul></div><div class="sidebar" id="vars"><h3>Public Vars</h3><ul><li><a href="aws.sdk.sts.html#var-assume-role"><span>assume-role</span></a></li><li><a href="aws.sdk.sts.html#var-decode-exceptions"><span>decode-exceptions</span></a></li><li><a href="aws.sdk.sts.html#var-get-session-token"><span>get-session-token</span></a></li><li><a href="aws.sdk.sts.html#var-map-%3EObjectGraph"><span>map-&gt;ObjectGraph</span></a></li><li><a href="aws.sdk.sts.html#var-mapper-%3E"><span>mapper-&gt;</span></a></li><li><a href="aws.sdk.sts.html#var-set-fields"><span>set-fields</span></a></li></ul></div><div class="namespace-docs" id="content"><h2>aws.sdk.sts documentation</h2><pre class="doc">Functions to access the Amazon Security Token Service.

Each function takes a map of credentials as its first argument. The
credentials map should contain an :access-key key and a :secret-key
key.</pre><div class="public" id="var-assume-role"><h3>assume-role</h3><div class="usage"><code>(assume-role cred params)</code></div><pre class="doc">Returns a set of temporary security credentials that you can use to
access resources that are defined in the role's policy. It expects
the following parameters:

  :role-arn          - the Amazon Resource Name (ARN) of the role that the caller is assuming
  :role-session-name - an identifier for the assumed role session

See
http://docs.aws.amazon.com/STS/latest/APIReference/API_AssumeRole.html
for descriptions of all available parameters.

Returns a data structure containing credentials and information
about the assumed user role:

  {:credentials
    {
     :access-key-id     - the AccessKeyId ID that identifies the temporary credentials
     :secret-access-key - the Secret Access Key to sign requests
     :session-token     - the security token that users must pass to the service API to use the temporary credentials
     :expiration        - the date on which these credentials expire
    }
   :assumed-role-user


 E.g.:
     (sts/assume-role cred {:role-arn &quot;arn:aws:iam::123456789012:role/demo&quot; :role-session-name &quot;Demo&quot; :duration-seconds 1800 })</pre></div><div class="public" id="var-decode-exceptions"><h3>decode-exceptions</h3><div class="usage"><code>(decode-exceptions &amp; exceptions)</code></div><pre class="doc">Returns a Clojure map containing the details of an AmazonServiceException
</pre></div><div class="public" id="var-get-session-token"><h3>get-session-token</h3><div class="usage"><code>(get-session-token cred)</code><code>(get-session-token cred params)</code></div><pre class="doc">Get a set of temporary credentials for an AWS account or IAM user.
Optionally, pass a map of params including:

  :duration-seconds - the duration, in seconds, that the credentials should remain valid
  :serial-number    - the identification number of the MFA device for the user
  :token-code       - the value provided by the MFA device

Returns Credentials, a data structure which contains the following keys:

  :access-key-id     - the AccessKeyId ID that identifies the temporary credentials
  :secret-access-key - the Secret Access Key to sign requests
  :session-token     - the security token that users must pass to the service API to use the temporary credentials
  :expiration        - the date on which these credentials expire

E.g.:
    (sts/get-session-token cred)
    (sts/get-session-token cred { :duration-seconds 3600 })</pre></div><div class="public" id="var-map-%3EObjectGraph"><h3>map-&gt;ObjectGraph</h3><div class="usage"><code>(map-&gt;ObjectGraph params)</code></div><pre class="doc">Transform the map of params to a graph of AWS SDK objects
</pre></div><div class="public" id="var-mapper-%3E"><h3>mapper-&gt;</h3><div class="usage"><code>(mapper-&gt; type)</code></div><pre class="doc">Creates a function that invokes set-fields on a new object of type
with mapped parameters.</pre></div><div class="public" id="var-set-fields"><h3>set-fields</h3><div class="usage"><code>(set-fields obj params)</code></div><pre class="doc">Use a map of params to call setters on a Java object
</pre></div></div></body></html>